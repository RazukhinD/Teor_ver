import pandas as pd
import numpy as np
from statsmodels.stats.weightstats import _tconfint_generic as t_stat
from scipy.stats import norm 
import math

1. Критерий Стьюдетна - общее название для статистических тестов, в которых статистика критерия имеет распределение Стьюдента. 
Наиболее часто t-критерии применяются для проверки равенства средних значений в двух выборках. 
Нулевая гипотеза предполагает, что средние равны (отрицание этого предположения называют гипотезой сдвига). 
Z-тест подразумевает проверку гипотезы, которая устанавливает, отличаются ли средние значения двух наборов данных друг от друга, когда дается дисперсия.

2.Утверждается, что шарики для подшипников, изготовленные автоматическим станком, имеют средний диаметр 17 мм. Используя односторонний критерий с α=0,05, 
проверить эту гипотезу, если в выборке из n=100 шариков средний диаметр оказался равным 17.5 мм, а дисперсия известна и равна 4 мм.

H0: M = 7

H1: M > 17

U_fact = (17.5 - 17) / 4 * np.sqrt(100)

U_fact

1.25

Ф(U_cr) = 1.645

т.к. U_fact < U_cr Нулевая гипотеза принимается

3. Продавец утверждает, что средний вес пачки печенья составляет 200 г. Из партии извлечена выборка из 10 пачек.
Вес каждой пачки составляет: 202, 203, 199, 197, 195, 201, 200, 204, 194, 190. Известно, что их веса распределены нормально. 
Верно ли утверждение продавца, если учитывать, что доверительная вероятность равна 99%?

H0: M = 200

H1: M != 200

X = np.array([202, 203, 199, 197, 195, 201, 200, 204, 194, 190])
mean_X = X.mean()
std_X = X.std(ddof=1)

t_fact = (mean_X - 200) / std_X * np.sqrt(10)
t_fact

-1.0651074037450896

t_cr = 3.25

т.к. abs(t_fact) < t_cr нулевая гипотеза принимается
4. Есть ли статистически значимые различия в росте дочерей?

Рост матерей 172, 177, 158, 170, 178,175, 164, 160, 169

Рост взрослых дочерей: 173, 175, 162, 174, 175, 168, 155, 170, 160

import scipy.stats as stats
import numpy as np
import pylab
from math import sqrt
x = np.array([172, 177, 158, 170, 178,175, 164, 160, 169, 165])
y = np.array([173, 175, 162, 174, 175, 168, 155, 170, 160, 178])

"t-тест Стьюдента для зависимых выборок:"
#Используем данный вид выборки в виду того, что между ростом родитетей и детей имеется генетическая связь
stat, p = stats.ttest_rel(x,y)
print('Statistics=%.3f, p-value=%.3f' % (stat, p))

alpha = 0.05
if p > alpha:
    print('Принять гипотезу о нормальности')
else:
    print('Отклонить гипотезу о нормальности')

Statistics=-0.083, p-value=0.936
Принять гипотезу о нормальности

 

len(x), len(y)

(10, 10)

avg_x = np.mean(x)
print(f'Среднее значение X: {avg_x: .3f}')

Среднее значение X:  168.800

avg_y = np.mean(y)
print(f'Среднее значение Y: {avg_y: .3f}')

Среднее значение Y:  169.000

s_x = np.var(x, ddof = 1)
print(f'Дисперсия значений элементов массива X: {s_x: .3f}')

Дисперсия значений элементов массива X:  48.178

s_y = np.var(y, ddof = 1)
print(f'Дисперсия значений элементов массива Y: {s_y: .3f}')

Дисперсия значений элементов массива Y:  58.000

std_x = np.std(x, ddof = 1)
print(f'Среднеквадратичное отклонение элементов массива Х: {std_x: .3f}')

Среднеквадратичное отклонение элементов массива Х:  6.941

std_y = np.std(y, ddof = 1)
print(f'Среднеквадратичное отклонение элементов массива Y: {std_y: .3f}')

Среднеквадратичное отклонение элементов массива Y:  7.616

t = (avg_x-avg_y)/sqrt(s_x/len(x)+s_y/len(y))
print(f't-критерий: {t: .3f}')

t-критерий: -0.061


